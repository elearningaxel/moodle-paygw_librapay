{"version":3,"file":"gateways_modal.min.js","sources":["../src/gateways_modal.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This module is responsible for LibraPay content in the gateways modal.\n *\n * @module     paygw_librapay/gateways_modal\n * @copyright  2026 Axel eLearning\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Config from 'core/config';\n\n/**\n * Process the payment.\n *\n * LibraPay uses a redirect-based payment flow. This function redirects\n * the user to pay.php which then submits a form to LibraPay's payment page.\n *\n * @param {string} component Name of the component that the itemId belongs to\n * @param {string} paymentArea The area of the component that the itemId belongs to\n * @param {number} itemId An internal identifier that is used by the component\n * @param {string} description Description of the payment\n * @returns {Promise<string>}\n */\nexport const process = (component, paymentArea, itemId, description) => {\n    return new Promise(() => {\n        const url = new URL(Config.wwwroot + '/payment/gateway/librapay/pay.php');\n        url.searchParams.set('component', component);\n        url.searchParams.set('paymentarea', paymentArea);\n        url.searchParams.set('itemid', itemId);\n        url.searchParams.set('description', encodeURIComponent(description));\n\n        window.location.href = url.toString();\n    });\n};\n"],"names":["component","paymentArea","itemId","description","Promise","url","URL","Config","wwwroot","searchParams","set","encodeURIComponent","window","location","href","toString"],"mappings":";;;;;;;8JAqCuB,CAACA,UAAWC,YAAaC,OAAQC,cAC7C,IAAIC,SAAQ,WACTC,IAAM,IAAIC,IAAIC,gBAAOC,QAAU,qCACrCH,IAAII,aAAaC,IAAI,YAAaV,WAClCK,IAAII,aAAaC,IAAI,cAAeT,aACpCI,IAAII,aAAaC,IAAI,SAAUR,QAC/BG,IAAII,aAAaC,IAAI,cAAeC,mBAAmBR,cAEvDS,OAAOC,SAASC,KAAOT,IAAIU"}